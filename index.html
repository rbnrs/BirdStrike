<html>

<head>
    <link rel="stylesheet" href="/src/birdstrike.css">
    <link rel="stylesheet" href="/node_modules/materialize-css/dist/css/materialize.min.css">
    <link rel="stylesheet" href="/node_modules/mapbox-gl/dist/mapbox-gl.css" />
    <link rel="icon" href="./src/icon.png" type="image/x-icon">
    <title>Birdstrike</title>
    <script src="/src/bundle.js"></script>
    <meta name="viewport" content="height=device-height, initial-scale=1.0">
</head>

<body onload="Birdstrike.init()">
    <div id="loading-panel" style="height: 100%; width: 100%; padding-top: 15% !important; background-color: rgb(30 29 30);">
        <div class="loading-bar">
            <img src="/src/logo.jpg" width="300px">
        </div>
        <div class="progress loading-bar" style="width:20%">
            <div class="indeterminate"></div>
        </div>
    </div>
    <div id="smww-panel" style="height: 100%; width: 100%; padding-top: 15% !important; background-color: rgb(30 29 30); display:none">
        <div class="loading-bar">
            <p style="color: white; font-size:45px">¯\_(ツ)_/¯</p>
            <p style="color: white; font-size:15px">Something went wrong..... <br>Please reload the App or try it again later.
            </p>
        </div>

    </div>
    <div id="control-panel" class="box stack-top" style="pointer-events: none !important; display: none;">
        <div class="info-card">
            <div id="info-card" style="pointer-events: auto !important; visibility: visible">
                <div class="side-div z-depth-5">
                    <div id="info-risk-con" style="display: none">
                        <p class="box-label">Aktueller Standort:</p>
                        <p id="info-address" class="info-side-div address-lat-lng"></p>
                        <p id="info-latlng" class="info-side-div address-lat-lng"></p>
                    </div>
                    <div id="info-risk-nosc">
                        <p class="info-risk-nos">Bitte Standort in der Karte auswählen</p>
                    </div>
                </div>
                <div id="info-bird-dir" class="side-div z-depth-5" style="display: none">
                    <p class="box-label">Zugrichtung:</p>
                    <h2 class="birdstrike-direction">Nord-West</h2>
                </div>
                <div class="side-div z-depth-5">
                    <p class="box-label">Anzahl Meldungen:</p>
                    <h2 id="count-birdstrike" class="birdstrike-highest">-</h2>
                    <p id="highest-birdstrike" class="info-side-div"></p>
                </div>

                <div class="side-div z-depth-5">
                    <p class="box-label">Letzte Meldung:</p>
                    <h2 id="info-update" class="last-update">-</h2>
                </div>
            </div>
            <div class="legend non-touchable">
                <div style="float: right; display: inline-flex; pointer-events: auto !important;">
                    <button id="crosssecbtn" class="waves-effect waves-light btn" style="background-color: #3F9B93; margin-right: 15px; visibility: hidden" onclick="Birdstrike.openCrossSectionDialog()">Querschnitt anzeigen</button>
                    <button class="waves-effect waves-light btn" style="background-color: #3F9B93; margin-right: 5px" onclick="Birdstrike.startTimeLapse()">Start</button>
                    <button class="waves-effect waves-light btn" style="background-color: #3F9B93; margin-right: 5px" onclick="Birdstrike.pauseTimeLapse()">Pause</button>
                    <button class="waves-effect waves-light btn" style="background-color: #3F9B93" onclick="Birdstrike.clearMapView()">Zurücksetzen</button>

                    <a id="timeRef" class='dropdown-trigger btn' href='#' data-target='dropdown1' style="background-color: #3F9B93; width:200px; margin-left: 40px">Zeitraffer auswählen</a>

                    <ul id='dropdown1' class='dropdown-content' onclick="Birdstrike.changeTime(event)">
                        <li><a href="#!">100 ms</a></li>
                        <li><a href="#!">200 ms</a></li>
                        <li><a href="#!">500 ms</a></li>
                        <li><a href="#!">1000 ms</a></li>
                        <li><a href="#!">2000 ms</a></li>
                        <li><a href="#!">5000 ms</a></li>
                        <li><a href="#!">10000 ms</a></li>
                    </ul>
                </div>
                <div class="non-touchable">
                    <div class="non-touchable">
                        <div class="card white darken-1 height-legend non-touchable" style="background-color: #1f1e1e !important; width: max-content; pointer-events: auto !important;">
                            <div class="switch raster-switch">
                                <label class="raster-label">
                                    <input type="checkbox" onchange="Birdstrike.setGeoRefSquares(event)">
                                    <span class="lever"></span>
                                    Rasteransicht
                                </label>
                            </div>
                            <p>
                                <label>
                                    <input id="cbheight1" type="checkbox" class="filled-in color-ft-0-1"
                                        onchange="Birdstrike.changeMapView('1',event)" />
                                    <span id="spanheight1" class="legend-text">
                                        &lt; 1 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight2" type="checkbox" class="filled-in color-ft-1-2"
                                        onchange="Birdstrike.changeMapView('2',event)" />
                                    <span id="spanheight2" class="legend-text">1 - 3 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight3" type="checkbox" class="filled-in color-ft-2-3"
                                        onchange="Birdstrike.changeMapView('3',event)" />
                                    <span id="spanheight3" class="legend-text">3 - 5 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight4" type="checkbox" class="filled-in color-ft-3-4"
                                        onchange="Birdstrike.changeMapView('4',event)" />
                                    <span id="spanheight4" class="legend-text">5 - 10 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight5" type="checkbox" class="filled-in color-ft-4-5"
                                        onchange="Birdstrike.changeMapView('5',event)" />
                                    <span id="spanheight5" class="legend-text">10 - 15 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight6" type="checkbox" class="filled-in color-ft-5-6"
                                        onchange="Birdstrike.changeMapView('6',event)" />
                                    <span id="spanheight6" class="legend-text">15 - 20 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight7" type="checkbox" class="filled-in color-ft-6-7"
                                        onchange="Birdstrike.changeMapView('7',event)" />
                                    <span id="spanheight7" class="legend-text">20 - 25 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight8" type="checkbox" class="filled-in color-ft-7-8"
                                        onchange="Birdstrike.changeMapView('8',event)" />
                                    <span id="spanheight8" class="legend-text">25 - 30 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight9" type="checkbox" class="filled-in color-ft-8-9"
                                        onchange="Birdstrike.changeMapView('9',event)" />
                                    <span id="spanheight9" class="legend-text">30 - 35 kft</span>
                                </label>
                            </p>
                            <p>
                                <label>
                                    <input id="cbheight10" type="checkbox" class="filled-in color-ft-9-10"
                                        onchange="Birdstrike.changeMapView('10',event)" />
                                    <span id="spanheight10" class="legend-text">&gt; 35 kft</span>
                                </label>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="map" class="map box" style="visibility: hidden"></div>
    <div id="crosssectionmodal" class="modal" style="width: 60% !important">
        <div class="modal-content">
            <canvas id="crosssectionchart" style="height: 100%; width: 100%"></canvas>
            <p style="margin-left: 50px; font-weight: bold">Radius anpassen (in Kilometer)</p>
            <div class="info-slider-div">
                10
                <div class="info-slider-radius">
                    <form action="#">
                        <p class="range-field">
                            <input type="range" id="test5" min="10" max="250" value="50" onchange="Birdstrike.changeDialogRadius(event)" />
                        </p>
                    </form>
                </div>
                250
            </div>

        </div>
        <div class="modal-footer">
            <a href="#!" class="modal-close waves-effect waves-green btn-flat">Schließen</a>
        </div>
    </div>
    <div id="loadingmodal" class="modal loading-modal">
        <div class="modal-content">
            <div class="preloader-wrapper small active">
                <div class="spinner-layer spinner-green-only">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div>
                    <div class="gap-patch">
                        <div class="circle"></div>
                    </div>
                    <div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var elemsdrop = document.querySelectorAll('.dropdown-trigger');
            var instancesdrop = M.Dropdown.init(elemsdrop, {

            });

            var elems = document.querySelectorAll("input[type=range]");
            M.Range.init(elems);

            var elemsmodal = document.querySelectorAll('.modal');
            var instancesmodal = M.Modal.init(elemsmodal, {

            });

            Birdstrike.setModalInstances(instancesmodal);
        });
    </script>
</body>

</html>